# AI 故事創作指南

## 互動式冒險故事引擎創作規範

**版本：** 1.0  
**作者：** Manus AI  
**目標對象：** AI 智能體故事創作者  
**專案：** GPTs 互動式冒險故事引擎

---

## 📖 引言

歡迎使用互動式冒險故事引擎！本指南專為 AI 智能體設計，旨在協助您創作出符合我們故事引擎規範的高品質互動式冒險故事。

我們的故事引擎採用現代化的技術架構，支援複雜的分支劇情、條件內容顯示、遊戲狀態管理和擲骰檢定機制。透過本指南，您將學會如何充分利用這些功能，創作出引人入勝的互動式故事體驗。

## 🎯 故事引擎核心功能

### 1. Story Engine API 功能特性

我們的故事引擎提供以下核心功能，您在創作時應充分考慮並運用這些特性：

#### 章節載入與管理

故事引擎能夠根據章節 ID 精確載入完整的章節內容，包括標題、敘述文字和所有可用選項。每個章節都是故事的一個獨立節點，玩家透過選擇不同選項在章節間移動，形成豐富的分支劇情體驗。

#### 條件內容系統

引擎支援強大的條件內容顯示功能，使用 `[[IF condition]]...[[ENDIF]]` 語法。這允許您根據玩家的遊戲狀態動態顯示不同的內容，大幅增加故事的重玩價值和個人化體驗。

#### 遊戲狀態變數管理

系統維護一個完整的遊戲狀態物件，記錄玩家在冒險過程中的各種狀態變數。這些變數可以是布林值（如 `has_key`、`found_secret`）或數值（如 `health`、`gold`），為故事邏輯提供豐富的判斷依據。

#### 選項與分支管理

每個章節可以包含多個選項，每個選項都指向下一個章節的 ID。這種設計允許創作複雜的分支結構，包括線性劇情、多重分支、條件選項和多重結局。

### 2. Roll Dice API 功能特性

擲骰系統為故事增添隨機性和挑戰性，支援以下功能：

#### 多面數骰子支援

系統支援 2 到 100 面的骰子，涵蓋傳統桌遊中的所有常見骰子類型（D4、D6、D8、D10、D12、D20、D100），以及任何自訂面數的骰子。

#### 多顆骰子同時擲出

可以同時擲出 1 到 100 顆骰子，適用於各種遊戲機制，如傷害計算、技能檢定、隨機事件觸發等。

#### 詳細結果回傳

系統回傳每顆骰子的個別結果以及總和，讓您能夠實現複雜的遊戲邏輯，如「取最高值」、「計算成功次數」等進階機制。

## 📋 JSON 格式規範

### 基本結構

您創作的故事必須遵循以下 JSON 格式規範，以確保能夠正確匯入故事引擎：

```json
[
  {
    "id": 1,
    "title": "章節標題",
    "content": "章節內容...",
    "options": [
      {
        "text": "選項文字",
        "next_id": 2
      }
    ]
  }
]
```

### 必要欄位說明

#### id（整數，必要）

每個章節的唯一識別碼，必須是正整數。建議從 1 開始連續編號，但不強制要求連續。ID 在整個故事中必須唯一，不可重複。

#### title（字串，必要）

章節的標題，應該簡潔明瞭地概括該章節的主要內容或場景。標題長度建議控制在 50 字元以內，避免過長影響顯示效果。

#### content（字串，必要）

章節的主要敘述內容，這是故事的核心部分。內容應該生動描述當前場景、角色狀態、環境氛圍等，為玩家提供充分的情境資訊。支援多行文字和條件內容語法。

#### options（陣列，必要）

該章節的選項列表。對於結局章節，此欄位應為空陣列 `[]`。對於非結局章節，應包含至少一個選項，建議 2-5 個選項以提供適當的選擇性。

### 選項物件結構

每個選項物件必須包含以下欄位：

#### text（字串，必要）

選項的顯示文字，應該清楚描述玩家將要採取的行動或決定。文字應該具體明確，避免模糊不清的表述。

#### next_id（整數，必要）

該選項指向的下一個章節 ID。必須確保指向的章節確實存在於故事中，否則會造成斷鏈錯誤。

### 條件內容語法

條件內容使用特殊的標記語法，允許根據遊戲狀態動態顯示內容：

```
[[IF condition_name]]
這段內容只有在 condition_name 為 true 時才會顯示
[[ENDIF]]
```

#### 條件變數命名規範

- 使用小寫字母和底線，如 `has_key`、`found_secret`
- 避免使用空格和特殊字元
- 名稱應該具有描述性，清楚表達其代表的狀態

#### 條件內容設計原則

- 條件內容應該為故事增添價值，而非僅僅是裝飾
- 確保沒有條件內容時，故事仍然完整可讀
- 避免過度複雜的條件邏輯，保持故事流暢性

## 🎨 故事創作指導原則

### 章節設計原則

#### 章節長度控制

每個章節的內容長度應該適中，建議在 100-2000 字元之間。過短的章節可能缺乏足夠的情境描述，過長的章節則可能讓玩家感到疲勞。理想的章節應該包含足夠的描述來建立場景氛圍，同時保持節奏的緊湊性。

#### 場景描述技巧

優秀的章節內容應該運用五感描述來建立沉浸感。描述視覺細節（光線、色彩、形狀）、聽覺元素（聲音、音樂、寂靜）、觸覺感受（溫度、質感、疼痛）、嗅覺和味覺（當相關時）。這些感官細節能夠讓玩家更深入地投入故事世界。

#### 情緒節奏管理

故事應該有適當的情緒起伏，避免單調的敘述節奏。在緊張刺激的章節後安排較為平靜的過渡章節，在平靜的探索後引入衝突或轉折。這種節奏變化能夠維持玩家的注意力和興趣。

### 選項設計策略

#### 選項數量平衡

每個章節的選項數量應該經過仔細考慮。太少的選項（只有 1 個）會讓玩家感覺缺乏選擇權，太多的選項（超過 5 個）則可能造成選擇困難。最理想的選項數量通常是 2-4 個，這能夠提供足夠的選擇性同時避免過度複雜。

#### 選項差異化

每個選項應該代表不同的行動方向或思考方式，避免提供實質上相同的選擇。選項之間應該有明確的區別，可能導向不同的後果或體驗。例如，可以設計「勇敢直接」vs「謹慎迂迴」、「理性分析」vs「感性直覺」等對比鮮明的選項。

#### 後果可預期性

雖然故事需要驚喜和轉折，但選項的基本方向應該是可預期的。玩家應該能夠大致理解每個選項可能帶來的結果類型，即使具體細節可能出乎意料。這種可預期性讓玩家能夠做出有意義的選擇。

### 分支結構設計

#### 分支複雜度管理

設計分支結構時需要平衡複雜度和可管理性。過於簡單的線性結構缺乏互動性，過於複雜的分支則可能讓故事失去焦點。建議採用「主幹+分支」的結構，有一條主要故事線，配合幾條重要的分支路線。

#### 匯聚點設計

雖然分支提供了多樣性，但適當的匯聚點能夠確保故事的連貫性。在關鍵劇情點，不同的分支可以重新匯聚，讓玩家的不同選擇都能體驗到核心故事內容，同時保持各自的獨特性。

#### 結局多樣性

設計多個不同的結局能夠大幅增加故事的重玩價值。結局應該反映玩家在整個冒險過程中的主要選擇和行為模式。可以設計基於不同價值觀的結局（如勇氣、智慧、同情、正義），或基於不同行動策略的結局（如直接對抗、巧妙迂迴、和平解決）。

### 條件內容運用

#### 狀態變數設計

遊戲狀態變數應該反映玩家行動的重要後果。這些變數可以是物品獲得（`has_sword`、`found_map`）、關係狀態（`befriended_guard`、`angered_king`）、知識獲得（`knows_secret`、`learned_spell`）或能力變化（`injured`、`blessed`）。

#### 條件內容的戲劇效果

條件內容不應該只是簡單的狀態描述，而應該為故事增添戲劇張力。例如，擁有特定物品時的內容可以展現玩家的準備充分，缺乏某項能力時的內容可以強調挑戰的困難性。

#### 條件邏輯的一致性

確保條件邏輯在整個故事中保持一致。如果玩家在某個章節獲得了某項物品或能力，後續章節的條件內容應該正確反映這個狀態。避免邏輯矛盾或遺漏。

## 🎲 擲骰機制整合

### 擲骰時機設計

#### 技能檢定

在故事中適當的時機引入技能檢定，如攀爬懸崖（力量檢定）、解謎（智力檢定）、說服他人（魅力檢定）等。擲骰結果應該影響故事的發展方向，成功和失敗都應該有有趣的後續發展。

#### 隨機事件

使用擲骰來決定隨機事件的發生，增加故事的不可預測性。例如，在森林中遇到的生物類型、寶箱中的物品種類、天氣變化等都可以通過擲骰來決定。

#### 戰鬥系統

如果故事包含戰鬥元素，可以使用擲骰來決定攻擊成功率、傷害數值、特殊效果觸發等。設計時應該考慮平衡性，避免過度依賴運氣。

### 骰子類型選擇

#### 常見骰子應用

- **D6**：最常見的骰子，適用於簡單的隨機選擇
- **D20**：經典的技能檢定骰子，提供較大的數值範圍
- **D100**：百分比檢定，適用於精確的機率計算
- **D4, D8, D10, D12**：特殊用途，如傷害骰、特殊事件觸發

#### 多骰組合

使用多顆骰子可以創造更有趣的機率分布。例如，3D6 的結果會趨向中間值，而 1D18 則是平均分布。根據您想要的遊戲體驗選擇合適的骰子組合。

### 結果解釋設計

#### 成功失敗閾值

為擲骰結果設定合理的成功失敗閾值。考慮任務的難度、角色的能力、情境的複雜性等因素。一般來說，簡單任務的成功率應該較高，困難任務的成功率應該較低。

#### 部分成功機制

考慮引入部分成功的概念，即擲骰結果介於完全成功和完全失敗之間時的處理方式。部分成功可以讓故事更加細膩，避免過於極端的結果。

#### 失敗的有趣性

失敗不應該只是簡單的「遊戲結束」，而應該開啟新的故事可能性。失敗可能導致不同的路線、新的挑戰、意外的盟友或敵人等。讓失敗也成為故事發展的有機組成部分。

## 📚 故事類型與主題建議

### 經典冒險主題

#### 英雄之旅

採用經典的英雄之旅結構，包括平凡世界、冒險召喚、拒絕召喚、遇見導師、跨越門檻、試煉、啟示、轉變、歸來等階段。這種結構為玩家提供了熟悉而滿足的敘事體驗。

#### 探索與發現

設計以探索未知世界為核心的故事，如古代遺跡探險、神秘島嶼調查、地下城探索等。這類故事特別適合運用條件內容和擲骰機制，因為探索過程充滿不確定性。

#### 道德抉擇

創作需要玩家面對複雜道德選擇的故事，如拯救一個人還是拯救多個人、正義與慈悲的衝突、個人利益與集體利益的平衡等。這類故事能夠引發玩家的深度思考。

### 創新主題方向

#### 時間操控

設計涉及時間旅行、時間循環或時間分支的故事。這類主題特別適合利用條件內容來展現不同時間線的差異，以及玩家行動對歷史的影響。

#### 身份轉換

創作玩家需要扮演不同身份或視角的故事，如從反派角度看待事件、在不同社會階層間切換、體驗不同物種的生活等。這能夠提供獨特的敘事體驗。

#### 心理探索

設計深入角色內心世界的故事，如面對恐懼、處理創傷、探索記憶、理解情感等。這類故事可以運用條件內容來反映角色的心理狀態變化。

## 🔧 技術實作建議

### 故事結構規劃

#### 流程圖設計

在開始寫作前，建議先繪製故事的流程圖，標明各章節之間的連接關係、條件分支、狀態變數的設定和檢查點等。這有助於確保故事邏輯的完整性和一致性。

#### 狀態變數表

建立一個完整的狀態變數表，列出所有可能的遊戲狀態、其預設值、變更條件和影響範圍。這能夠幫助您在寫作過程中保持狀態邏輯的一致性。

#### 章節依賴關係

記錄每個章節對其他章節的依賴關係，包括前置條件、狀態要求、可能的來源章節等。這有助於發現潛在的邏輯問題和斷鏈風險。

### 品質保證流程

#### 邏輯檢查

完成故事創作後，系統性地檢查所有章節引用、條件邏輯、狀態變數使用等是否正確。確保沒有指向不存在章節的選項，沒有未定義的條件變數。

#### 路徑測試

測試故事的各種可能路徑，確保每條路線都能夠到達合理的結局。特別注意邊緣情況和特殊條件組合下的故事發展。

#### 平衡性評估

評估不同選擇路線的平衡性，確保沒有明顯的「最優解」或「陷阱選項」。每條路線都應該有其獨特的價值和體驗。

### 檔案管理建議

#### 版本控制

為您的故事檔案建立版本控制系統，記錄每次修改的內容和原因。這有助於追蹤故事的演進過程和回溯問題。

#### 備份策略

定期備份您的故事檔案，包括 JSON 格式和任何輔助文件（如流程圖、設定文件等）。建議使用多種備份方式以確保資料安全。

#### 文件化

為您的故事建立完整的文件，包括故事概要、角色設定、世界觀描述、特殊機制說明等。這些文件有助於維護故事的一致性和後續的修改工作。

## 📖 範例故事分析

### 森林冒險範例解析

讓我們以專案中包含的「森林冒險」故事為例，分析如何有效運用故事引擎的各項功能：

#### 故事結構分析

這個故事採用了經典的二元分支結構，從第一章開始就為玩家提供了兩種不同的行動方向：直接行動（深入森林）和謹慎觀察（仔細觀察環境）。這種設計立即建立了玩家的代理感，讓他們感受到選擇的重要性。

第二和第三章分別展現了不同選擇的後果。選擇直接行動的玩家會立即面對危險，而選擇謹慎觀察的玩家則會獲得額外的資訊和工具。這種設計獎勵了不同的遊戲風格，沒有明顯的「正確」或「錯誤」選擇。

#### 條件內容運用

故事巧妙地運用了 `has_weapon` 條件變數。在第二章中，這個條件影響了玩家面對危險時的心理狀態描述。在第四章的結局中，這個條件更是決定了完全不同的故事發展和結局描述。

這種條件內容的使用展現了幾個重要原則：首先，條件內容為故事增添了實質性的差異，而不僅僅是表面的文字變化。其次，條件的設定和檢查在邏輯上是一致的——玩家在第三章獲得武器，在後續章節中這個狀態得到了正確的反映。

#### 結局設計哲學

四個不同的結局分別代表了不同的價值觀和行動策略：勇敢面對（第四章）強調勇氣的重要性，明智撤退（第五章）讚揚謹慎和智慧，準備充分的勝利（第六章）獎勵事前準備，謹慎的選擇（第七章）肯定安全優先的態度。

這種設計避免了道德說教，而是承認不同選擇都有其價值。每個結局都是「正面」的，只是體現了不同的人生哲學。這種平衡的結局設計讓玩家感到他們的選擇是有意義的，無論選擇哪條路線都能獲得滿足感。

## 🎯 創作檢查清單

### 故事完整性檢查

#### 基本結構檢查

- [ ] 每個章節都有唯一的 ID
- [ ] 所有必要欄位（id, title, content, options）都已填寫
- [ ] 章節 ID 都是正整數
- [ ] 至少有一個起始章節（通常是 ID 1）
- [ ] 至少有一個結局章節（options 為空陣列）

#### 引用完整性檢查

- [ ] 所有選項的 next_id 都指向存在的章節
- [ ] 沒有孤立的章節（除了起始章節外，每個章節都有其他章節指向它）
- [ ] 沒有死循環（無法到達結局的循環路徑）
- [ ] 每個非結局章節都有至少一個選項

#### 條件邏輯檢查

- [ ] 所有條件變數都有明確的定義和用途
- [ ] 條件變數的命名遵循規範（小寫字母和底線）
- [ ] 條件內容的語法正確（[[IF]]...[[ENDIF]]）
- [ ] 條件邏輯在整個故事中保持一致

### 內容品質檢查

#### 文字品質檢查

- [ ] 章節標題簡潔明瞭，長度適中
- [ ] 章節內容生動有趣，長度在合理範圍內
- [ ] 選項文字清楚明確，避免模糊表述
- [ ] 整體文字風格一致，語調適合目標受眾

#### 故事邏輯檢查

- [ ] 故事情節合理，沒有明顯的邏輯漏洞
- [ ] 角色行為符合其設定和動機
- [ ] 世界觀設定一致，沒有自相矛盾的地方
- [ ] 時間線清晰，事件順序合理

#### 遊戲性檢查

- [ ] 選擇有意義，不同選項導向不同體驗
- [ ] 擲骰機制（如果使用）平衡合理
- [ ] 條件內容增加重玩價值
- [ ] 多個結局都有其獨特價值

### 技術規範檢查

#### JSON 格式檢查

- [ ] JSON 語法正確，可以被解析器正確讀取
- [ ] 字串正確使用引號，特殊字元正確轉義
- [ ] 陣列和物件結構正確
- [ ] 數值類型正確（ID 為整數，文字為字串）

#### 相容性檢查

- [ ] 檔案編碼為 UTF-8，支援中文字元
- [ ] 檔案大小合理，不會造成載入問題
- [ ] 結構符合故事引擎的預期格式
- [ ] 可以通過故事驗證工具的檢查

## 🚀 創作流程建議

### 前期規劃階段

#### 主題確定

首先確定您想要創作的故事主題和核心概念。考慮您想要傳達的訊息、目標受眾的喜好、以及如何運用互動式媒體的獨特優勢。花時間在這個階段是值得的，因為清晰的主題將指導後續的所有創作決定。

#### 角色設計

設計主要角色，包括主角（玩家）和重要的 NPC。考慮他們的背景、動機、性格特點、能力限制等。即使在互動式故事中，角色的一致性仍然是吸引玩家的重要因素。

#### 世界觀建構

建立故事發生的世界，包括地理環境、社會結構、歷史背景、魔法或科技設定等。世界觀為故事提供了框架，也為玩家的選擇提供了合理的限制和可能性。

### 結構設計階段

#### 主線劇情規劃

設計故事的主要劇情線，包括開端、發展、高潮、結局等傳統敘事元素。即使是分支故事，也需要有清晰的主線來維持敘事的連貫性。

#### 分支點識別

識別故事中的關鍵分支點，這些是玩家的選擇會對故事產生重大影響的時刻。分支點應該自然地融入故事情節，而不是強行插入的選擇。

#### 結局設計

設計多個不同的結局，確保每個結局都反映了玩家在故事中的主要選擇和價值觀。結局應該感覺像是玩家行動的自然後果，而不是隨意的獎勵或懲罰。

### 詳細創作階段

#### 章節撰寫

按照規劃的結構逐章撰寫故事內容。每個章節都應該有明確的目的，無論是推進劇情、建立氛圍、提供選擇還是展現後果。

#### 選項設計

為每個章節設計有意義的選項。選項應該反映不同的行動策略、價值觀或性格特點。避免設計明顯的「正確」或「錯誤」選項，而是提供各有優缺點的選擇。

#### 條件內容整合

在適當的地方加入條件內容，讓玩家的先前選擇對當前體驗產生影響。這種連續性是互動式故事的重要特色，能夠讓玩家感受到他們的選擇是有意義的。

### 測試與優化階段

#### 邏輯測試

系統性地測試故事的各種路徑，確保所有分支都能正常運作，沒有斷鏈或邏輯錯誤。這個過程可能會發現需要調整的地方。

#### 平衡性調整

評估不同路徑的平衡性，確保沒有明顯過於簡單或困難的路線。如果使用擲骰機制，測試其平衡性和公平性。

#### 文字潤飾

最後階段進行文字的潤飾和優化，確保語言流暢、風格一致、錯字和語法錯誤已經修正。

## 📞 技術支援與資源

### 驗證工具使用

專案提供了完整的故事驗證工具，建議在完成創作後使用這些工具檢查您的故事：

```bash
# 驗證故事檔案
python story_validator.py your_story.json

# 查看故事統計
python story_converter.py your_story.json --stats

# 生成流程圖
python story_converter.py your_story.json --flowchart your_story.mmd
```

### 格式轉換工具

如果您需要將故事轉換為其他格式進行檢視或分享：

```bash
# 轉換為可讀的 Markdown 文件
python story_converter.py your_story.json --markdown your_story.md

# 轉換為 CSV 表格
python story_converter.py your_story.json --csv your_story.csv
```

### 常見問題解決

#### JSON 格式錯誤

如果遇到 JSON 格式錯誤，可以使用線上 JSON 驗證工具檢查語法問題，或使用 Python 的 json 模組進行驗證。

#### 邏輯錯誤排除

使用故事驗證工具可以自動檢測大部分邏輯錯誤。對於複雜的邏輯問題，建議繪製流程圖來視覺化故事結構。

#### 效能優化

對於大型故事（超過 100 個章節），注意檔案大小和載入效能。可以考慮將故事分割為多個檔案或優化內容長度。

## 🎉 結語

互動式冒險故事是一種獨特而強大的敘事媒體，它結合了傳統故事的情感深度和遊戲的互動性。透過我們的故事引擎，您可以創作出真正讓玩家參與其中、影響故事發展的作品。

記住，最好的互動式故事不僅僅是技術功能的展示，更是對人性、選擇和後果的深度探索。利用條件內容、分支劇情和擲骰機制等技術特性來服務您的敘事目標，而不是讓技術主導故事。

每個選擇都應該有意義，每個分支都應該提供獨特的體驗，每個結局都應該感覺像是玩家旅程的自然終點。當您成功做到這些時，您就創作出了一個真正的互動式冒險故事。

祝您創作愉快，期待看到您的精彩作品！

---
